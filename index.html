<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Safehouse Terminal</title>
<style>
  body {
    background-color: #0c0c0c;
    color: #00ff66;
    font-family: 'Courier New', Courier, monospace;
    margin: 0;
  }
  #bootScreen, #homeScreen, #terminalScreen {
    display: none;
    padding: 20px;
    white-space: pre-wrap;
    min-height: calc(100vh - 50px);
  }
  .promptBar {
    display: flex;
    padding: 10px;
    background: #000;
    border-top: 1px solid #00ff66;
  }
  #realInput {
    flex: 1;
    background: transparent;
    color: #00ff66;
    border: none;
    font-family: inherit;
    font-size: 1rem;
    outline: none;
  }
  #sendBtn {
    background: #00ff66;
    color: #000;
    border: none;
    font-size: 1.2rem;
    padding: 0 10px;
    cursor: pointer;
  }
  h1 {
    text-align: center;
    font-size: 2rem;
  }
  h2 {
    text-align: center;
    font-size: 1rem;
    margin-top: -10px;
    color: #0f0;
  }
</style>
</head>
<body>
<div id="bootScreen"></div>
<div id="homeScreen">
  <h1>THE SAFEHOUSE</h1>
  <h2>Cocktail Bar and Shelter - v3.2 BIOS</h2>
  <p style="text-align:center">Press any key or tap to continue...</p>
</div>
<div id="terminalScreen">
  <div id="terminal"></div>
  <form id="promptForm" class="promptBar">
    <input id="realInput" type="text" enterkeyhint="send" inputmode="text" autocomplete="off">
    <button id="sendBtn" type="submit">â†µ</button>
  </form>
</div>
<script>
(function(){
  'use strict';
  const boot = document.getElementById('bootScreen');
  const home = document.getElementById('homeScreen');
  const termScreen = document.getElementById('terminalScreen');
  const term = document.getElementById('terminal');
  const form = document.getElementById('promptForm');
  const input = document.getElementById('realInput');

  function println(text="") { term.textContent += text + "\n"; }

  function bootSequence(lines, callback) {
    let i = 0;
    function next() {
      if (i < lines.length) {
        boot.textContent += lines[i] + "\n";
        i++;
        setTimeout(next, 200);
      } else {
        callback();
      }
    }
    boot.style.display = 'block';
    next();
  }

  function startHome() {
    boot.style.display = 'none';
    home.style.display = 'block';
    window.addEventListener('pointerdown', startTerminalBoot, { once: true });
    window.addEventListener('keydown', startTerminalBoot, { once: true });
  }

  function startTerminalBoot() {
    home.style.display = 'none';
    boot.textContent = '';
    boot.style.display = 'block';
    bootSequence([
      'Loading Safehouse Terminal...',
      'Initializing subsystems...',
      'Connecting to database...',
      'Ready.'
    ], startTerminal);
  }

  function startTerminal() {
    boot.style.display = 'none';
    termScreen.style.display = 'block';
    println("> WELCOME TO THE SAFEHOUSE TERMINAL");
    println("> TYPE 'HELP' FOR AVAILABLE COMMANDS");
    input.focus();
  }

  function submitCommand(cmd) {
    if(!cmd.trim()) return;
    const c = cmd.trim().toLowerCase();
    println("> " + cmd);
    if(c === 'help') {
      println("1) HOME\n2) CONTACTS\n3) LOCATION\n4) HOURS\n5) CLEAR");
    } else if(c === '1' || c === 'home') {
      println("Safehouse main page placeholder.");
    } else if(c === '2' || c === 'contacts') {
      println("Instagram: @safehouse | Email: info@safehouse.com");
    } else if(c === '3' || c === 'location') {
      println("Sapporo, Japan - Opening soon.");
    } else if(c === '4' || c === 'hours') {
      println("Mon-Sun: 18:00 - 02:00");
    } else if(c === '5' || c === 'clear') {
      term.textContent = "> TYPE 'HELP' FOR AVAILABLE COMMANDS\n";
    } else {
      println("Unknown command");
    }
    input.value = '';
  }

  form.addEventListener('submit', e => {
    e.preventDefault();
    submitCommand(input.value);
  });

  bootSequence([
    'THE SAFEHOUSE BIOS v3.2',
    'Checking system memory...',
    'Memory OK',
    'Initializing devices...',
    'Devices ready',
    'Boot sequence complete.'
  ], startHome);
})();
</script>
</body>
</html>
